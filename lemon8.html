<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>lemon8</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  background: #000;
  color: #fff;
  font-family: system-ui, sans-serif;
}

/* Header */
header {
  padding: 12px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #0b0b0b;
  border-bottom: 1px solid #222;
}

header h1 {
  font-size: 1rem;
  margin: 0;
  font-weight: 600;
}

/* Buttons */
button {
  background: #1e1e1e;
  color: #fff;
  border: 1px solid #333;
  padding: 8px 14px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
}

/* Reader */
#reader {
  width: 100%;
  height: calc(100vh - 52px);
  border: none;
  background: black;
}

/* Fullscreen overlay */
#overlay {
  position: fixed;
  inset: 0;
  background: black;
  display: none;
  z-index: 9999;
}

#overlay iframe {
  width: 100%;
  height: 100%;
  border: none;
}
</style>
</head>

<body>

<header>
  <h1>lemon8</h1>
  <button onclick="enterFullscreen()">Fullscreen</button>
</header>

<iframe
  id="reader"
  src="https://www.tiktok.com/"
  referrerpolicy="no-referrer"
></iframe>

<div id="overlay">
  <iframe id="overlay-reader"></iframe>
</div>

<script>
/* -------- CONFIG -------- */
const REFRESH_TIME = 120000; // 2 minutes
let refreshTimer = null;

/* -------- AUTO REFRESH -------- */
function startRefresh(targetIframe) {
  clearInterval(refreshTimer);
  refreshTimer = setInterval(() => {
    targetIframe.src = targetIframe.src;
  }, REFRESH_TIME);
}

/* Start refresh on load */
const reader = document.getElementById("reader");
startRefresh(reader);

/* -------- FULLSCREEN -------- */
function enterFullscreen() {
  const overlay = document.getElementById("overlay");
  const overlayReader = document.getElementById("overlay-reader");

  overlay.style.display = "block";
  overlayReader.src = reader.src;

  startRefresh(overlayReader);
}

/* -------- ESC EXIT -------- */
document.addEventListener("keydown", e => {
  if (e.key === "Escape") {
    const overlay = document.getElementById("overlay");
    const overlayReader = document.getElementById("overlay-reader");

    overlay.style.display = "none";
    overlayReader.src = "";

    startRefresh(reader);
  }
});
</script>

</body>
</html>
