<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Manhyo Reader</title>

<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@600;700&display=swap" rel="stylesheet">

<style>
:root{
  --purple:#8b5cf6;
  --purple2:#6d28d9;
  --dark:#050507;
  --glass:rgba(255,255,255,.08);
}

*{box-sizing:border-box;margin:0;padding:0;font-family:"Space Grotesk",sans-serif;}

body{
  min-height:100vh;
  background:radial-gradient(circle at top,var(--purple2),var(--dark) 70%);
  color:white;
  font-family:"Courier New",monospace;
}

/* LOGIN */
#login{
  position:fixed;inset:0;
  display:flex;align-items:center;justify-content:center;
}

.login-box{text-align:center;}

#title{
  font-size:4.8rem;letter-spacing:6px;margin-bottom:10px;
  text-shadow:0 0 40px rgba(139,92,246,.8);
}

.login-box p{opacity:.7;margin-bottom:30px;}

input{
  padding:12px;width:180px;border-radius:14px;border:none;
  background:rgba(255,255,255,.15);color:white;text-align:center;
}

button{
  margin-top:16px;padding:12px 20px;border-radius:16px;
  border:none;cursor:pointer;
  background:linear-gradient(135deg,var(--purple),var(--purple2));
  color:white;font-weight:700;
  box-shadow:0 0 30px rgba(139,92,246,.6);
}

/* APP */
#app{display:none;padding:50px;}

.layout{
  display:grid;grid-template-columns:1fr 1.2fr;
  gap:60px;max-width:1300px;margin:auto;
}

.left h1{font-size:4rem;letter-spacing:5px;}
.left p{opacity:.8;line-height:1.7;max-width:480px;}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:22px;
}

.card{
  background:var(--glass);
  backdrop-filter:blur(18px);
  border-radius:22px;padding:22px;
  cursor:pointer;transition:.25s;
  box-shadow:0 25px 50px rgba(0,0,0,.6);
}

.card:hover{
  transform:translateY(-6px);
  box-shadow:0 30px 80px rgba(139,92,246,.35);
}

#overlay{
  display:none;position:fixed;inset:0;
  background:black;z-index:9999;
}

#reader{width:100%;height:100%;border:none;}

/* ===== INTRO CINEMATIC ===== */
#intro{
  position:fixed;inset:0;
  background:black;
  z-index:10000;
  overflow:hidden;
}

#space{
  position:absolute;inset:0;display:block;
}

.intro-text{
  position:absolute;inset:0;
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  text-align:center;
  z-index:5;
}

#intro-title{
  font-family:"Space Grotesk",sans-serif;
  font-size:5rem;
  letter-spacing:8px;
  color:var(--purple);
  text-shadow:0 0 50px rgba(139,92,246,.9);
  animation:fadeOut 1.8s ease forwards;
  animation-delay:0.5s;
}

#intro-sub{
  font-family:"Courier New",monospace;
  font-size:1.2rem;
  color:white;
  opacity:0;
  animation:fadeInOut 3s ease forwards;
  animation-delay:2.5s;
}

#enterBtn{
  opacity:0;
  margin-top:40px;
  padding:14px 40px;
  background:transparent;
  border:2px solid #8b5cf6;
  color:#8b5cf6;
  cursor:pointer;
}

@keyframes fadeOut{
  to{opacity:0; letter-spacing:18px;}
}

@keyframes fadeInOut{
  30%{opacity:1;}
  100%{opacity:0;}
}
</style>
</head>
<body>

<!-- CINEMATIC INTRO -->
<div id="intro">
  <canvas id="space"></canvas>

  <div class="intro-text">
    <div id="intro-title">MANHYO</div>
    <div id="intro-sub">get ready to start<br>emerging yourselves</div>
    <button id="enterBtn">ENTER</button>
  </div>
</div>

<!-- LOGIN -->
<div id="login">
  <div class="login-box">
    <div id="title">MANHYO</div>
    <p>Read manhwa & manga in one clean place.</p>
    <input type="password" id="pw" placeholder="Password" />
    <br />
    <button onclick="login()">Enter</button>
  </div>
</div>

<!-- APP -->
<div id="app">
  <div class="layout">
    <div class="left">
      <h1>MANHYO</h1>
      <p>Manhyo is a private reader hub that lets you open your favorite sites in fullscreen without distractions.</p>
    </div>
    <div class="right">
      <div class="grid">
        <div class="card" data-url="https://asuracomic.net"><h3>AsuraScans</h3></div>
        <div class="card" data-url="https://ezmanga.org"><h3>Ezmanga</h3></div>
        <div class="card" data-url="https://comix.to"><h3>Comix</h3></div>
      </div>
    </div>
  </div>
</div>

<!-- IFRAME -->
<div id="overlay">
  <iframe id="reader" allow="fullscreen"></iframe>
</div>

<script>
const secret="D3r5t0n3";
const loginEl=document.getElementById("login");
const appEl=document.getElementById("app");
const pw=document.getElementById("pw");

// LOGIN
function login(){
  if(pw.value!==secret){alert("Incorrect password");return;}
  loginEl.style.display="none";
  startIntro();
}

// INTRO CINEMATIC
const canvas=document.getElementById("space");
const ctx=canvas.getContext("2d");
const enterBtn=document.getElementById("enterBtn");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

// STARS
let stars=Array.from({length:250},()=>({
  x:Math.random()*canvas.width,
  y:Math.random()*canvas.height,
  r:Math.random()*1.5+0.5,
  alpha:Math.random(),
  twinkle:Math.random()*0.02+0.005
}));

// PLANETS
let planets=[
  {x:canvas.width*0.3,y:canvas.height*0.4,r:40,color:"#a855f7",appear:false},
  {x:canvas.width*0.7,y:canvas.height*0.6,r:50,color:"#60a5fa",appear:false}
];

// EARTH
let earth={x:canvas.width*0.5,y:canvas.height*0.5,r:60,color:"#22d3ee",appear:false};

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // STARS first
  stars.forEach(s=>{
    s.alpha+=s.twinkle;
    if(s.alpha<=0||s.alpha>=1) s.twinkle*=-1;
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fillStyle=`rgba(255,255,255,${s.alpha})`;
    ctx.shadowBlur=6;
    ctx.shadowColor="#9b5cff";
    ctx.fill();
  });

  // PLANETS
  planets.forEach(p=>{if(p.appear){
    ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle=p.color;ctx.shadowBlur=15;ctx.shadowColor=p.color;ctx.fill();
  }});

  // EARTH
  if(earth.appear){
    ctx.beginPath();
    ctx.arc(earth.x,earth.y,earth.r,0,Math.PI*2);
    ctx.fillStyle=earth.color;
    ctx.shadowBlur=20;
    ctx.shadowColor=earth.color;
    ctx.fill();
  }

  requestAnimationFrame(draw);
}

function startIntro(){
  draw();
  // MANHYO title first
  setTimeout(()=>stars.forEach(s=>{}),2500);
  setTimeout(()=>planets.forEach(p=>p.appear=true),3500);
  setTimeout(()=>earth.appear=true,6500);
  setTimeout(()=>enterBtn.style.opacity=1,9000);

  enterBtn.onclick=()=>{
    document.getElementById("intro").style.display="none";
    loginEl.style.display="flex"; // Show password page
  };
}

// ENTER key for password
pw.addEventListener("keydown",e=>{if(e.key==="Enter")login();});

/* OPEN EXTENSIONS */
document.querySelectorAll(".card").forEach(card=>{
  card.addEventListener("click",()=>{
    document.getElementById("overlay").style.display="block";
    document.getElementById("reader").src=card.dataset.url;
    setTimeout(()=>document.getElementById("overlay").requestFullscreen?.(),50);
  });
});

/* EXIT FULLSCREEN */
document.addEventListener("fullscreenchange",()=>{
  if(!document.fullscreenElement){
    document.getElementById("overlay").style.display="none";
    document.getElementById("reader").src="";
  }
});

/* SCROLL FIX */
window.addEventListener("keydown",e=>{
  if(!document.fullscreenElement) return;
  const url=document.getElementById("reader").src||"";
  if(url.includes("comix.to")) return;
  const keys=["ArrowDown","ArrowUp","PageDown","PageUp"];
  if(!keys.includes(e.key)) return;
  e.preventDefault();
  try{
    document.getElementById("reader").contentWindow.scrollBy({
      top:e.key==="ArrowDown"?120:e.key==="ArrowUp"?-120:e.key==="PageDown"?500:-500,
      behavior:"smooth"
    });
  }catch{}
});
</script>

</body>
</html>
