<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Manhyo Reader - Extensions Only</title>

<!-- Google Fonts for big title -->
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&display=swap" rel="stylesheet" />

<style>
  body {
    margin: 0;
    background: radial-gradient(circle at top, #2a0f3f, #0b0b0b 70%);
    font-family: "Courier New", monospace;
    color: #fff;
    overflow-x: hidden;
    padding: 20px;
    text-align: center;
  }

  #title {
    font-family: "Space Grotesk", sans-serif;
    font-size: 2.5rem;
    letter-spacing: 4px;
    margin-bottom: 15px;
  }

  /* Sections: homepage, extensions only, no buttons */
  .section {
    display: none; /* hide all by default */
  }
  .section.active {
    display: block; /* show active section */
  }

  /* Homepage style */
  #homepage {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 50px;
  }
</style>
</head>
<body>

<h1 id="title">MANHYO</h1>

<!-- Homepage with password prompt -->
<div id="homepage" class="section active">
  <h2 style="font-family:'Space Grotesk'; font-size:2rem;">Enter Password</h2>
  <input type="password" id="passwordInput" placeholder="Password" />
  <button onclick="verifyPassword()">Enter</button>
</div>

<!-- Extensions section, hidden initially -->
<div id="extensions" class="section">
  <h2>Extensions</h2>
  <div style="display:flex; flex-wrap:wrap; justify-content:center; gap:15px;">
    <div style="background:rgba(30,30,30,0.85); border-radius:14px; padding:12px; width:180px; display:flex; flex-direction:column; align-items:center;">
      <h3>Asurascans</h3>
      <button onclick="openFullscreen('https://asurascans.com/')">Open in Viewer</button>
    </div>
    <div style="background:rgba(30,30,30,0.85); border-radius:14px; padding:12px; width:180px; display:flex; flex-direction:column; align-items:center;">
      <h3>Watchparty</h3>
      <button onclick="openFullscreen('https://www.watchparty.me/')">Open in Viewer</button>
    </div>
    <div style="background:rgba(30,30,30,0.85); border-radius:14px; padding:12px; width:180px; display:flex; flex-direction:column; align-items:center;">
      <h3>Ezmanga</h3>
      <button onclick="openFullscreen('https://ezmanga.org/')">Open in Viewer</button>
    </div>
    <div style="background:rgba(30,30,30,0.85); border-radius:14px; padding:12px; width:180px; display:flex; flex-direction:column; align-items:center;">
      <h3>Comix</h3>
      <button onclick="openFullscreen('https://comix.to/')">Open in Viewer</button>
    </div>
    <div style="background:rgba(30,30,30,0.85); border-radius:14px; padding:12px; width:180px; display:flex; flex-direction:column; align-items:center;">
      <h3>Utoon</h3>
      <button onclick="openFullscreen('https://utoon.net/')">Open in Viewer</button>
    </div>
    <div style="background:rgba(30,30,30,0.85); border-radius:14px; padding:12px; width:180px; display:flex; flex-direction:column; align-items:center;">
      <h3>TikTok</h3>
      <button onclick="openFullscreen('https://www.tiktok.com')">Open in Viewer</button>
    </div>
    <div style="background:rgba(30,30,30,0.85); border-radius:14px; padding:12px; width:180px; display:flex; flex-direction:column; align-items:center;">
      <h3>Google</h3>
      <button onclick="openFullscreen('https://www.google.com')">Open in Viewer</button>
    </div>
  </div>
</div>

<!-- Overlay for fullscreen sites -->
<div id="overlay" style="display:none; position:fixed; inset:0; background:#000; z-index:9999;">
  <iframe id="reader" style="width:100%; height:100%; border:none;"></iframe>
</div>

<script>
function verifyPassword() {
  const pw = document.getElementById("passwordInput").value;
  if (pw === "D3r5t0n3") {
    document.getElementById("homepage").style.display = "none";
    document.getElementById("extensions").style.display = "block";
  } else {
    alert("Wrong password");
  }
}

function openFullscreen(url) {
  const iframe = document.getElementById("reader");
  const overlay = document.getElementById("overlay");
  overlay.style.display = "block";
  iframe.src = "";
  // Set a timeout for load error
  const timeoutId = setTimeout(() => {
    alert("Failed to load the site. It may be blocked or refusing connection.");
    overlay.style.display = "none";
  }, 15000);
  
  iframe.onload = () => {
    clearTimeout(timeoutId);
  };
  iframe.src = url;
}

// Close overlay on Escape
document.addEventListener("keydown", (e) => {
  if (e.key === "Escape") {
    document.getElementById("overlay").style.display = "none";
  }
});
</script>

</body>
</html>
